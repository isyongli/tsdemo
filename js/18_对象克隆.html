<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>对象克隆</title>
  </head>
  <body>
    <div id="test"></div>
    <script type="text/javascript">
      const log = console.log
      function deepClone(obj) {
        var newObj = obj instanceof Array ? [] : {}
        for (var i in obj) {
          newObj[i] = typeof obj[i] == 'object' ? deepClone(obj[i]) : obj[i]
        }
        return newObj
      }
      var arr = [1, 2, 3]
      var newArr = deepClone(arr)
      log('newArr', newArr)
      // for (var i = 0; i < 5; i++) {
      //   setTimeout(function () {
      //     console.log(i)
      //   }, 1000)
      // }
      // console.log(i)
      let a = {
        b: 1
      }
      Object.defineProperty(a, 'b', {
        get: function () {
          log(1)
        },
        set: function () {
          log(1)
        }
      })
      Object.defineProperty(a, 'b', {
        get: function () {
          log(2)
        },
        set: function () {
          log(2)
        }
      })
      a.b
    </script>
  </body>
</html>
