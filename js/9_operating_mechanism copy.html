<!DOCTYPE html>
<html dochtml="">
  <head>
    <meta charset="utf-8" />
    <title>js运行机制</title>
    <script type="text/javascript" src="https://lib.baomitu.com/jquery/3.5.1/jquery.js"></script>
    <style></style>
    <script>
      ;(function (d) {
        var config = {
            kitId: 'gaf0vla',
            scriptTimeout: 3000,
            async: true
          },
          h = d.documentElement,
          t = setTimeout(function () {
            h.className = h.className.replace(/\bwf-loading\b/g, '') + ' wf-inactive'
          }, config.scriptTimeout),
          tk = d.createElement('script'),
          f = false,
          s = d.getElementsByTagName('script')[0],
          a
        h.className += ' wf-loading'
        tk.src = 'https://use.typekit.net/' + config.kitId + '.js'
        tk.async = true
        tk.onload = tk.onreadystatechange = function () {
          a = this.readyState
          if (f || (a && a != 'complete' && a != 'loaded')) return
          f = true
          clearTimeout(t)
          try {
            Typekit.load(config)
          } catch (e) {}
        }
        s.parentNode.insertBefore(tk, s)
      })(document)
    </script>
  </head>
  <body>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <div>字体</div>
    <script type="text/javascript">
      // console.log('1');
      // setTimeout(function() {
      //     console.log('2');
      //     // process.nextTick(function() {
      //     //     console.log('3');
      //     // })
      //     new Promise(function(resolve) {
      //       setTimeout(function(){
      //         console.log("13");
      //         resolve();
      //       },10)
      //         console.log('4');

      //     }).then(function() {
      //         console.log('5')
      //     })
      // })
      // // process.nextTick(function() {
      // //     console.log('6');
      // // })
      // new Promise(function(resolve) {
      //     console.log('7');
      //     resolve();
      // }).then(function() {
      //     console.log('8')
      // })
      // setTimeout(function() {
      //     console.log('9');
      //     // process.nextTick(function() {
      //     //     console.log('10');
      //     // })
      //     new Promise(function(resolve) {
      //         console.log('11');
      //         resolve();
      //     }).then(function() {
      //         console.log('12')
      //     })
      // })

      //     console.log('script start');

      // setTimeout(function () {
      //   console.log('setTimeout');
      // }, 0);

      // Promise.resolve()
      //   .then(function () {
      //     console.log('promise1');
      //   })
      //   .then(function () {
      //     console.log('promise2');
      //   });

      // console.log('script end');

      // console.log('script start')

      // async function async1() {
      //   await async2()
      //   console.log('async1 end')
      // }
      // async function async2() {
      //   console.log('async2 end')
      // }
      // async1()

      // setTimeout(function() {
      //   console.log('setTimeout')
      // }, 0)

      // new Promise(resolve => {
      //   console.log('Promise')
      //   resolve()
      // })
      //   .then(function() {
      //     console.log('promise1')
      //   })
      //   .then(function() {
      //     console.log('promise2')
      //   })

      //   console.log('script end')

      setTimeout(_ => console.log(8))

      new Promise((resolve, reject) => {
        reject()
        console.log(1)
      }).then(
        () => {
          console.log(3)
        },
        () => {
          console.log(4)
        }
      )

      console.log(2)
    </script>
  </body>
</html>
